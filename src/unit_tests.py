from calc import Calc

def unit_test(func, args, out):
    result = func(args)
    if result != out:
        return f'Fail: {func.__name__}({args}) returned "{result}", expected "{out}".'
    return ''

def unit_tests():
    calc = Calc().calc
    output = []
    output.append(unit_test(calc, '3+4', '7'))
    output.append(unit_test(calc, '3+4', '7'))
    output.append(unit_test(calc, '5-2', '3'))
    output.append(unit_test(calc, '6*7', '42'))
    output.append(unit_test(calc, '8/2', '4'))
    output.append(unit_test(calc, '10//3', '3'))
    output.append(unit_test(calc, '9^2', '81'))
    output.append(unit_test(calc, '(3+4)*(5-2)', '21'))
    output.append(unit_test(calc, '6*(7-2)/2', '15'))
    output.append(unit_test(calc, '8/(2*(4-2))', '2'))
    output.append(unit_test(calc, '((1+2)*(3+4))/(5+6)', '1.909090909091'))
    output.append(unit_test(calc, '3+4*5', '23'))
    output.append(unit_test(calc, '2^3+6/2', '11'))
    output.append(unit_test(calc, '2*(3+4)^2', '98'))
    output.append(unit_test(calc, '(8+1)/(3-2)^2', '9'))
    output.append(unit_test(calc, 'abs(-5)', '5'))
    output.append(unit_test(calc, 'ceil(4.3)', '5'))
    output.append(unit_test(calc, 'exp(2)', '7.389056098931'))
    output.append(unit_test(calc, 'floor(4.8)', '4'))
    output.append(unit_test(calc, 'log(10)', '1'))
    output.append(unit_test(calc, 'ln(2.718)', '0.999896315729'))
    output.append(unit_test(calc, 'sqrt(16)', '4'))
    output.append(unit_test(calc, 'e^7-exp(7)', '0'))
    output.append(unit_test(calc, 'asin(0.5)', '0.523598775598'))
    output.append(unit_test(calc, 'acos(0.5)', '1.047197551197'))
    output.append(unit_test(calc, 'atan(1)', '0.785398163397'))
    output.append(unit_test(calc, 'sin(30)', '-0.988031624093'))
    output.append(unit_test(calc, 'cos(60)', '-0.952412980415'))
    output.append(unit_test(calc, 'tan(45)', '1.619775190544'))
    output.append(unit_test(calc, '----5', '5'))
    output.append(unit_test(calc, '---5', '-5'))
    output.append(unit_test(calc, '4--------3', '7'))
    output.append(unit_test(calc, '4-------3', '1'))
    output.append(unit_test(calc, '2^3*sqrt(25)-(8+1)/((3-2)^2)', '31'))
    output.append(unit_test(calc, '3*abs(-4+5)/cos(60)-exp(1)', '-5.868175899298'))
    output.append(unit_test(calc, '((2+3)*(4-1))^2/sqrt(16)', '56.25'))
    output.append(unit_test(calc, '1+2*(3+4*(5+6*(7+8*(9+10)))/9)/8', '108.305555555556'))
    output.append(unit_test(calc, '1+23+45+6', '75'))
    output.append(unit_test(calc, '3+4*5/(2+1)', '9.666666666667'))
    output.append(unit_test(calc, '(1+2)*(3+4)/(5+6)', '1.909090909091'))
    output.append(unit_test(calc, '2^3*(4-1)+sqrt(16)/ln(2)', '29.770780163556'))
    output.append(unit_test(calc, 'ceil(3.6)*floor(2.8)+exp(1)^2', '15.389056098931'))
    output.append(unit_test(calc, '(((2+3)*4)-(1+2))/(5-6)', '-17'))
    output.append(unit_test(calc, 'sqrt(sqrt(16))', '2'))
    output.append(unit_test(calc, 'floor(ceil(5.5))', '6'))
    output.append(unit_test(calc, '(1+2*(3+(4*(5+(6*(7+(8*9)))))))', '3839'))
    output.append(unit_test(calc, 'sin(30)+cos(60)', '-1.940444604508'))
    output.append(unit_test(calc, 'tan(45)-asin(0.5)', '1.096176414946'))
    output.append(unit_test(calc, 'acos(cos(0.5236))', '0.5236'))
    output.append(unit_test(calc, 'atan(1)+sin(0.5236)-cos(0.5236)', '0.419374432177'))
    output.append(unit_test(calc, '0.5+0.25', '0.75'))
    output.append(unit_test(calc, '1.5*2.0/3.333', '0.900090009001'))
    output.append(unit_test(calc, '0.1^2+0.01^2+0.001^2', '0.010101'))
    output.append(unit_test(calc, 'sqrt(4.0)/2.5', '0.8'))
    output.append(unit_test(calc, '3/4*5', '3.75'))
    output.append(unit_test(calc, '2^10*3^5/5^3', '1990.656'))
    output.append(unit_test(calc, '-2.e-2+3', '2.98'))
    output.append(unit_test(calc, '3+2e4', '20003'))
    output.append(unit_test(calc, '.23e6/4', '57500'))
    output.append(unit_test(calc, 'sqrt(2)^10', '32'))
    output.append(unit_test(calc, 'sqrt(2)^3*(sin(45)+cos(45))/2.5', '1.557021428693'))
    output.append(unit_test(calc, '(1+2*(3+4/2.0))^2', '121'))
    output.append(unit_test(calc, 'exp(1)^2*3.5-floor(sqrt(9.9))', '22.861696346257'))
    output.append(unit_test(calc, '2^0', '1'))
    output.append(unit_test(calc, '.9(8+3)', '9.9'))
    output.append(unit_test(calc, '0^5', '0'))
    output.append(unit_test(calc, '(-2)^3', '-8'))
    output.append(unit_test(calc, '4-3*-2', '10'))
    output.append(unit_test(calc, '10^-2', '0.01'))
    output.append(unit_test(calc, '1.5e2^2', '22500'))
    output.append(unit_test(calc, '1.5e+2^2', '22500'))
    output.append(unit_test(calc, 'exp(2*(1+sin(0.5236)))', '20.085579519137'))
    output.append(unit_test(calc, 'abs(-5)+ceil(-3.8)+floor(4.2)', '6'))
    output.append(unit_test(calc, '3--3', '6'))
    output.append(unit_test(calc, '3*-(4+8)', '-36'))
    output.append(unit_test(calc, 'abs(-1)+ceil(-1)+floor(-1)', '-1'))
    output.append(unit_test(calc, 'log(0.00001)', '-5'))
    output.append(unit_test(calc, '2^3+sqrt(16)*(sin(30)+cos(60))/abs(-5)', '6.447644316394'))
    output.append(unit_test(calc, '(1+2*(3+sqrt(16)))/(5-(exp(1)^2))', '-6.278630295335'))
    output.append(unit_test(calc, '1.2+(7.2-3)^9.2//17/7+ceil(4.3-exp(2.2))*abs(-8.2)-floor(-9.9)-log(8.443e*ln(sqrt(84)))+asin(.2)-acos(.4)+atan(.8)-sin(1.6)+cos(3.2)-tan(6.4)', '4527.723928415436'))
    output.append(unit_test(calc, '(4*3).9', '10.8'))
    output.append(unit_test(calc, 'sqrt(-8)', '2.828427124746i'))
    output.append(unit_test(calc, 'ln(-4)', '1.38629436112+3.14159265359i'))
    output.append(unit_test(calc, 'log(0)', 'Error: log of 0'))
    output.append(unit_test(calc, 'asin(17)', '1.570796326795+3.525494348078i'))
    output.append(unit_test(calc, 'arccos(-4)', '3.14159265359-2.063437068896i'))
    output.append(unit_test(calc, '0^-4.2', 'Error: Division by zero'))
    output.append(unit_test(calc, '(-4)^7.2', '-17489.99084486581-12707.222163219401i'))
    output.append(unit_test(calc, '-4^2', '-16'))
    output.append(unit_test(calc, '1/0', 'Error: Division by zero'))
    output.append(unit_test(calc, 'sqrt(((20-11)^2 + (3-11)^2 + (2-11)^2 + (10-11)^2 + (20-11)^2)/5)', '7.848566748139'))
    output.append('Done!')
    # Remove empty strings
    output = [i for i in output if i]
    return '\n'.join(output)
